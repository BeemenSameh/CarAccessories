@model List<CarAccessories.Models.VendorProduct>
<!-- Product -->
<link href="~/Content/rateit.css" rel="stylesheet" />
<div class="row">
    @foreach (var item in Model)
    {
        <div class="col-sm-12 col-md-6 col-lg-4 p-b-50">
            <!-- Block2 -->
            <div class="block2">
                <div class="block2-img wrap-pic-w of-hidden pos-relative  @(item.Sale_price == 0 || item.Sale_price == null? "" : "block2-labelsale") @((DateTime.Now - item.Insert_Date).TotalDays <= 7 ? "block2-labelnew" : "")">
                    <img src="~/Content/images/images/@item.Product.Image"  style="height:360px" alt="IMG-PRODUCT">

                    <div class="block2-overlay trans-0-4">
                        <a href="#" class="block2-btn-addwishlist hov-pointer trans-0-4">
                            <i class="icon-wishlist icon_heart_alt" aria-hidden="true"></i>
                            <i class="icon-wishlist icon_heart dis-none" aria-hidden="true"></i>
                        </a>

                        <div class="block2-btn-addcart w-size1 trans-0-4">
                            <!-- Button -->
                            <button class="flex-c-m size1 bg4 bo-rad-23 hov1 s-text1 trans-0-4">
                                Add to Cart
                            </button>
                        </div>
                    </div>
                </div>

                <div class="block2-txt p-t-20">
                    @Html.ActionLink(item.Product.Name, "ShowProductDetails", "Home", new { id = item.ID }, new { @class = "block2-name dis-block s-text3 p-b-5" })
                    @Html.ActionLink(item.Vendor.ComponyName, "ShowVendorDetails", "Home", new { id = item.Vendor.ID }, new { @class = "block2-name dis-block s-text3 p-b-5" })
                    @*<a href="ProductDetailsView.cshtml" class="block2-name dis-block s-text3 p-b-5">@item.Name</a>*@
                    <div class="rateit" id="rateit11b" data-rateit-step="1">    
                    </div>
                    <br />
                   
                    <br />
                    @if (item.Sale_price == 0 || item.Sale_price == null)
                    {
                        <span class="block2-price m-text6 p-r-5">
                            $@item.Price
                        </span>
                    }
                    else
                    {
                        <span class="block2-oldprice m-text7 p-r-5">
                            $@item.Price
                        </span>

                        <span class="block2-newprice m-text8 p-r-5">
                            $@item.Sale_price
                        </span>
                    }
                </div>
            </div>
        </div>




    }
</div>
<script src="~/Scripts/jquery.rateit.min.js"></script>
<script>
    var tooltipvalues = ['bad', 'poor', 'ok', 'good', 'super'];
    $(".rateit").bind('over', function (event, value) { $(this).attr('title', tooltipvalues[value - 1]); });
    $('.rateit').each(function () {
        $(this).on('click', function () {
            var rate = $(this).rateit('value');
            var VendorProdId = $(this).attr("data-vendorId");
            console.log(rate);
            $.ajax({
                url: "Rates/UserRateVendorProduct",
                method: "get",
                data: { rate: rate, VendorProdId: VendorProdId },
                success: function (data) {
                    swal("This Prod", "is Rated by" + rate + "!", "success");
                },
                error: function (date) {
                    console.log("Can't Rate product");
                }
            });
        });
    });
       // $('#rateit10').rateit('value')
</script>

